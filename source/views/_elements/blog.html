<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/polymer-jsonp/polymer-jsonp.html">
<link rel="import" href="/bower_components/flatiron-director/flatiron-director.html">
<link rel="import" href="post.html">

<polymer-element name="blog-element"  attributes="">

  <template>

    <style>
      /* styles for the custom element itself - lowest specificity */
      :host { display: block; }
      /*
      style if an ancestor has the different class
      :host(.different) { }
      */
      ::shadow header h1 {
        color: red;
      }
    </style>

    <header>
      <h1>My Polymer Blog</h1>
    </header>

    <nav>
      <template repeat="{{post in posts.feed.entry}}">
          <a href="#{{post.gsx$slug.$t}}">{{post.gsx$title.$t}}</a>
      </template>
    </nav>

    <section>
      <template repeat="{{post in posts.feed.entry}}">
        <post-element post="{{post}}" selected="{{route}}"></post-element>
      </template>
    </section>

    <footer>
      <span>End of blog</span>
    </footer>

    <flatiron-director route="{{route}}" autoHash></flatiron-director>

    <polymer-jsonp auto url="https://spreadsheets.google.com/feeds/list/0AmnvwmGmhTFKdEtmbGVsUnppeHp6bmczMkRFd3NOaEE/od6/public/values?alt=json-in-script&callback=" response="{{posts}}"></polymer-jsonp>

  </template>

  <script>
    Polymer('blog-element', {
      // element is fully prepared
      ready: function(){ },
      // instance of the element is created
      created: function() { },
      // instance was inserted into the document
      enteredView: function() { },
      // instance was removed from the document
      leftView: function() { },
      // attribute added, removed or updated
      attributeChanged: function(attrName, oldVal, newVal) { }
    });
  </script>

</polymer-element>
